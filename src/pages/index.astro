---
// Definitions
const title = "Pedro MC Fernandes, Product Designer";
const description = "Hi ðŸ‘‹ This is my website. It's where I show myself as a Product Designer. If you need one, get in touch so we can start talking. Have a nice one!";
const customClass = "index";
const sections = [
	{ title: 'Profile', normTitle: 'pmcf-xyz' },
	{ title: 'About me', normTitle: 'who' },
	{ title: 'Why Design', normTitle: 'why' },
	{ title: 'How I Work', normTitle: 'wat' },
];

// Components
import Shell from '../layouts/Shell.astro';
import Stickie from '../components/stickie.astro';
import Contact from '../components/contact.astro';
import Modal from '../components/modal.astro';

// Content

	// Collections
import { getCollection } from 'astro:content';
const firstSection = await getCollection('base');
const secondSection = await getCollection('who');
const thirdSection = await getCollection('why');
const fourthSection = await getCollection('see');

	// Footer
import { Content as Footer } from '../content/extra/footer.md';
---
<Shell title={ title } description={ description } customClass={ customClass }>
	<header>
		<div class="button-3d">
			<button type="button" id="resetNav" class="dark" aria-label="Return to home">
				<img src="/artwork/pmcf-xyz.svg" alt="" width="355" height="40"/>
			</button>
		</div>
	</header>
	<nav class="controls">
		<div class="button-3d">
			<button type="button" id="info" class="dark" aria-label="About this website">Info</button>
		</div>
		<div class="button-3d group">
			<button type="button" id="zoomOut" class="icon dark" aria-label="Zoom out">
				<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
					<title>Minus sign</title>
					<path d="M2 8L14 8" stroke="black" stroke-width="3" stroke-linecap="round"/>
				</svg>
			</button>
			<button type="button" id="zoomIn" class="icon dark" aria-label="Zoom in">
				<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
					<title>Plus sign</title>
					<path d="M2 8L14 8" stroke="black" stroke-width="3" stroke-linecap="round"/>
					<path d="M8 14L8 2" stroke="black" stroke-width="3" stroke-linecap="round"/>
				</svg>
			</button>
		</div>
	</nav>
	<div id="canvas" class="whiteboard">
		<div id="plumbing" aria-hidden="true"></div>
		<main>
			<!-- I N T R O -->
			<section id={sections[0].normTitle}>
				<aside id="note-start" aria-labelledby={sections[0].normTitle}>Start Here!</aside>
				<h1 class="title">{sections[0].title}</h1>
				{
					firstSection.map(async (post) => {
						const { Content } = await post.render()
						return (
						<Stickie>
							<Content />
						</Stickie>
						)
					})
				}
				<Contact />
				<small class="footnote">
					<Footer />
				</small>
				<aside id="note-contact" aria-labelledby="note-form">Contact me here</aside>
				<div id="pedroPort">
					<img src="/pmcf.jpg" width="512" height="512" alt="Portrait of the website's author, Pedro MC Fernandes"/>
				</div>
			</section>
			<!-- W H O -->
			<section id={sections[1].normTitle}>
				<aside id="note-who" aria-labelledby={sections[1].normTitle}>Pedro Who?!</aside>
				<h2 class="title">{sections[1].title}</h2>
				{
					secondSection.map(async (post) => {
						const { Content } = await post.render();
						const idNum = post.slug.split('-')[0];
						const id = `${sections[1].normTitle}-${idNum}`;
						return (
						<Stickie id={id}>
							<Content />
						</Stickie>
						)
					})
				}
				<aside id="note-anxiety" aria-labelledby="how-do-you-grow-and-plan-the-future">As if I'm not an anxious person...</aside>
				<img class="sticker" src="/artwork/peace.svg" alt="Drawing of a hand doing the peace gesture (v-shaped) drawn in a comic-book style." width="512" height="512" aria-describedby="what-values-guide-you"/>
				<img class="sticker" src="/artwork/growth.svg" alt="A pair of rubber gloves, drawn in a comic-book style, tapping the dirt at the base of a plant as if they're gardening and taking care of the plant's growth." width="512" height="512" aria-describedby="how-do-you-grow-and-plan-the-future"/>
				<img class="sticker" src="/artwork/death.svg" alt="Comic-book style drawing of the Death. A skull with a black cape that looks like a flying ghost and that is holding a scythe." width="512" height="512" aria-describedby="whats-your-favorite-book"/>
			</section>
			<!-- W H Y -->
			<section id={sections[2].normTitle}>
				<aside id="note-why" aria-labelledby={sections[2].normTitle}>A whole career, going steady</aside>
				<h2 class="title">{sections[2].title}</h2>
				{
					thirdSection.map(async (post) => {
						const { Content } = await post.render();
						const idNum = post.slug.split('-')[0];
						const id = `${sections[2].normTitle}-${idNum}`;
						return (
						<Stickie id={id}>
							<Content />
						</Stickie>
						)
					})
				}
				<aside id="note-challenges" aria-labelledby="what-are-some-of-the-biggest-challenges-youve-faced">Design is defiant. Every day there's overcoming</aside>
				<aside id="note-open" aria-labelledby="where-do-you-want-to-go-from-here">I want to help design a world that's more open, accessible</aside>
				<img class="sticker" src="/artwork/challenge.svg" alt="Drawing, in comic-book style, of a hand trying to insert a cube in a box that has a rounded hole. The cube is clearly oversized for the hole." width="512" height="512" aria-describedby="what-are-some-of-the-biggest-challenges-youve-faced"/>
				<img class="sticker" src="/artwork/improv.svg" alt="Comics-style drawing of a jazz, trumpet player. It's just the bust, hands and the trumpet. The player is wearing a suit and has the eys closed as if playing with their soul into the instrument." width="512" height="512" aria-describedby="how-do-you-approach-the-design-process"/>
				<img class="sticker" src="/artwork/deal-with-it.svg" alt="Comics-style drawing of a bust of a person with sunglasses on, smirking, acting cool." width="512" height="512" aria-describedby="what-do-you-consider-to-be-your-greatest-strengths"/>
				<img class="sticker" src="/artwork/creativity.svg" alt="Comics-style drawing of a hand with fingertips that resemble graphite pencils, and it's drawing, with almost all fingers, on the floor as if it were a piece of paper." width="512" height="512" aria-describedby="where-do-you-want-to-go-from-here"/>
			</section>
			<!-- S E E -->
			<section id={sections[3].normTitle}>
				<aside id="note-see" aria-labelledby={sections[3].normTitle}>Sneak peek at how I've been working</aside>
				<h2 class="title">{sections[3].title}</h2>
				{
					fourthSection.map(async (post) => {
						const { Content } = await post.render();
						const idNum = post.slug.split('-')[0];
						const id = `${sections[3].normTitle}-${idNum}`;
						return (
						<Stickie id={id}>
							<Content />
						</Stickie>
						)
					})
				}
				<img class="sticker" src="/artwork/research.svg" alt="The bust of a long-haired person, drawn in comic books style, with their hands holding a pair of binoculars in front of the face. The viewer can see their eyes on the binocular lens." width="512" height="512" aria-describedby="how-do-you-approach-the-research-phase"/>
				<img class="sticker" src="/artwork/collaboration.svg" alt="Comics-style drawing two futuristic digital screens are floating and facing each other. Out of each is coming out a hand. The left screen's hand is building the other screen like a puzzle. The opposite hand finishes painting the other screen as if it were incomplete and made of paint." width="512" height="512" aria-describedby="how-do-you-balance-user-needs-and-business-goals"/>
				<img class="sticker" src="/artwork/experimentation.svg" alt="Comics-style drawing of the bust of a dog, salivating, looks at a floating smartphone vibrating and ringing as an allusion to the Pavlovian experimentation methods." width="512" height="512" aria-describedby="what-do-you-use-for-prototyping-and-how-do-you-iterate"/>
				<img class="sticker" src="/artwork/satisfaction.svg" alt="Comics-style drawing of six hands, doing the thumbs up gesture, displayed as a circle around a star." width="512" height="512" aria-describedby="how-do-you-measure-success"/>
				<img class="sticker" src="/artwork/inclusivity.svg" alt="Four faces profiles gathered round to share a comics-style balloon as they're all in unison and equally sharing the same idea." width="512" height="512" aria-describedby="how-do-you-design-for-inclusivity"/>
				<aside id="note-end">Thank you for watching â™¥</aside>
			</section>
		</main>
	</div>
	<Modal title="Info" openID="info" uiMode="dark" />
</Shell>
<style>
html, body {
	overflow: hidden;
}
body {
	position: fixed;
	width: 100vw;
	height: 100vh;
	height: 100dvh;
}
.whiteboard {
	position: absolute;
	top: 0;
	left: 0;
	width: 100vw;
	height: 100vh;
	height: 100dvh;
	border: none;
	outline: none;
}
main {
	box-sizing: border-box;
	display: flex;
	flex-direction: row;
	align-items: flex-start;
	width: fit-content;
	padding: 12em;
	background-position: 0 0;
	/*background-size: 1em 1em;*/
	/*background-image: radial-gradient(var(--black-light) 0.0625em, transparent 0.0625em);*/
}
main section:not(:last-of-type) {
	margin-right: 7em;
}
.title {
	box-sizing: border-box;
	display: flex;
	align-items: center;
	width: 100%;
	padding: 1.5rem 2rem;
	margin: 0 1rem 4.5rem 0;
	border-radius: var(--sd);
	color: var(--paper);
	background-color: var(--charcoal);
	box-shadow: var(--shadow-a);
}
.title .badge {
	margin-right: 1.5rem;
}
.title svg {
	display: block;
}
h1.title img {
	padding: 0.5rem;
}
.badge {
	display: flex;
	justify-content: center;
	align-items: center;
	width: 3.5rem;
	height: 3.5rem;
	border-radius: 50%;
	background: var(--paper);
}
.badge > * {
	width: 2rem;
	height: 2rem;
}
.badge path {
	stroke: var(--charcoal);
}
:global(#pmcf-xyz h2), :global(#pmcf-xyz h3) {
	font-family: "LexendPeta";
	font-weight: 750;
	font-size: 0.75em;
	line-height: 133%;
	text-transform: uppercase;
}
section {
	padding: 7em 6em 7em 7em;
	border-radius: var(--sf);
	background-color: var(--yellow-fade);
}
section#who {
	background-color: var(--blue-fade);
}
section#why {
	background-color: var(--green-fade);
}
section#wat {
	background-color: var(--pink-fade);
}
section:not(#pmcf-xyz) :global(article:not(:last-of-type)) {
	margin-bottom: 8em;
}
section:nth-child(2) :global(article > *) {
    background-color: var(--stickie-blue);
}
section:nth-child(3) :global(article > *) {
    background-color: var(--stickie-green);
}
section:nth-child(4) :global(article > *) {
    background-color: var(--stickie-pink);
}
.controls {
	display: flex;
	flex-wrap: wrap-reverse;
	justify-content: flex-end;
	position: fixed;
	max-width: calc(100vw - 2em);
	right: 0.5em;
	bottom: 0.5em;
	z-index: var(--l-float);
}
.controls > * {
	margin-right: 0.5em;
	margin-bottom: 0.5em;
}
/* Annotations */
aside[id] {
	font-size: 4em;
	position: absolute;
	text-align: center;
}
aside#note-start {
	top: -2rem;
	left: -10rem;
	width: 14rem;
	transform: rotate(350deg);
}
aside#note-contact {
	bottom: -12rem;
	left: 20rem;
	width: 18rem;
	transform: rotate(10deg);
}
aside#note-who {
	top: -6rem;
	left: 2rem;
	width: 12rem;
	transform: rotate(340deg);
}
aside#note-why {
	top: 36rem;
	left: -24rem;
	width: 36rem;
	transform: rotate(280deg);
}
aside#note-see {
	top: -12rem;
	left: -40rem;
	width: 42rem;
	transform: rotate(5deg);
}
aside#note-end {
	top: 260rem;
	right: -20rem;
	width: 42rem;
	transform: rotate(300deg);
}
aside#note-anxiety {
	top: 141rem;
	right: 18rem;
	width: 42rem;
	transform: rotate(355deg);
}
aside#note-challenges {
	top: 92rem;
	right: 4rem;
	width: 48rem;
	transform: rotate(340deg);
}
aside#note-open {
	bottom: -17rem;
	left: 24rem;
	width: 48rem;
	transform: rotate(10deg);
}
/* Sticker */
.sticker {
	position: absolute;
	width: auto;
	height: 14rem;
	z-index: var(--l-overlap);
}
.sticker[src*="peace"] {
	top: 114rem;
	left: 55rem;
	transform: rotate(30deg);
}
.sticker[src*="growth"] {
	top: 140rem;
	left: -4rem;
	transform: rotate(0);
}
.sticker[src*="death"] {
	top: 169rem;
	left: 63rem;
	transform: rotate(0);
}
.sticker[src*="challenge"] {
	top: 80rem;
	left: 84rem;
	transform: rotate(0);
}
.sticker[src*="improv"] {
	top: 124rem;
	left: 14rem;
	transform: rotate(10deg);
}
.sticker[src*="deal-with-it"] {
	top: 199rem;
	left: 9rem;
	transform: rotate(10deg);
}
.sticker[src*="creativity"] {
	top: 241rem;
	left: 45rem;
	transform: rotate(0);
}
.sticker[src*="research"] {
	top: 28rem;
	left: -2rem;
	transform: rotate(0);
}
.sticker[src*="collaboration"] {
	top: 83rem;
	left: 94rem;
	transform: rotate(350deg);
}
.sticker[src*="experimentation"] {
	top: 142rem;
	left: 10rem;
	transform: rotate(0);
}
.sticker[src*="satisfaction"] {
	top: 272rem;
	left: 92rem;
	transform: rotate(320deg);
}
.sticker[src*="inclusivity"] {
	top: 333rem;
	left: -4rem;
	transform: rotate(10deg);
}
#pedroPort {
	position: absolute;
	top: 15rem;
	left: 39rem;
	width: 8em;
	height: 8em;
	overflow: hidden;
	border-radius: var(--sf);
	transform: rotate(355deg);
	box-shadow: var(--black-fade) -0.0625rem 0.25rem 0 0;
}
#pedroPort img {
	width: 100%;
    height: 100%;
	object-fit: cover;
}
/* Content design */
section#pmcf-xyz {
	flex-direction: row;
	flex-wrap: wrap;
	max-width: var(--maxcol-02);
}
section#pmcf-xyz > :global(article) {
	margin: 0 1em 1em 0;
}

/* Media queries */
@media (max-width: 480px) {
	.controls {
		flex-wrap: wrap;
		justify-content: flex-start;
		right: auto;
		left: 1em;
	}
}
</style>